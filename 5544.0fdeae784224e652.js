"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5544],{5544:(G,p,i)=>{i.r(p),i.d(p,{FeedPageModule:()=>w});var c=i(8434),n=i(4341),d=i(3092),u=i(9262),e=i(1360),g=i(8412),m=i(3545),h=i(7996),b=i(467);function F(t,r){1&t&&(e.j41(0,"span"),e.EFF(1,"Postar"),e.k0s())}function x(t,r){1&t&&e.nrm(0,"ion-spinner",12)}let f=(()=>{var t;class r{constructor(o,s,l){this.formBuilder=o,this.postService=s,this.toastService=l,this.isLoading=!1}ngOnInit(){this.postForm=this.formBuilder.group({title:["",[n.k0.required]],body:["",[n.k0.required]]})}createPost(){var s,o=this;this.postForm.invalid?this.toastService.presentToast({message:"Um post precisa ter um ti\u0301tulo e um conteu\u0301do.",color:"danger"}):(this.isLoading=!0,this.postService.create(this.postForm.value).subscribe({next:(s=(0,b.A)(function*(l){o.toastService.presentToast({message:"Post criado com sucesso!",color:"success"}),o.isLoading=!1,o.postForm.reset(),setTimeout(()=>window.location.reload(),1e3)}),function(I){return s.apply(this,arguments)}),error:s=>{this.toastService.presentToast({message:"Ocorreu um erro ao criar o post.",color:"danger"}),this.isLoading=!1,console.log(s)}}))}}return(t=r).\u0275fac=function(o){return new(o||t)(e.rXU(n.ok),e.rXU(g.K),e.rXU(m.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["create-post-card"]],decls:17,vars:4,consts:[[1,"[--background:none]","bg-cod-gray-950/80","backdrop-blur-lg","border-shark-950","border","border-solid","rounded-xl","p-4","flex","flex-col","gap-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"space-y-2"],[1,"text-center","text-shark-300","text-lg","font-semibold"],[1,"relative","group"],["formControlName","title","name","title","type","text","placeholder","","mode","ios","required","","maxlength","50",1,"[--background:none]","[--highlight-color:theme(colors.orient.500)!important]","[--padding-start:1rem]","rounded-md","overflow-hidden","border-[rgba(255,255,255,0.1)]","border","focus-within:[--background:transparent]","focus-within:border-shark-900","transition-all"],[1,"absolute","top-1/2","pointer-events-none","-translate-y-1/2","group-has-[input:focus]:top-0","group-has-[input:not(:placeholder-shown)]:top-0","group-has-[input:focus]:bg-shark-700","group-has-[input:not(:placeholder-shown)]:bg-shark-700","group-has-[input:not(:placeholder-shown)]:text-shark-100","opacity-100","px-1","rounded-sm","leading-snug","group-has-[input:focus]:text-shark-100","z-10","text-[#5d5f60]","left-4","transition-all"],["formControlName","body","name","body","type","text","placeholder","","mode","ios","rows","8","required","","maxlength","300",1,"[--background:none]","[--highlight-color:theme(colors.orient.500)!important]","[--padding-start:1rem]","rounded-md","overflow-hidden","border-[rgba(255,255,255,0.1)]","border","focus-within:[--background:transparent]","focus-within:border-shark-900","transition-all",3,"counter"],[1,"absolute","top-6","pointer-events-none","-translate-y-1/2","group-has-[textarea:focus]:top-0","group-has-[textarea:not(:placeholder-shown)]:top-0","group-has-[textarea:focus]:bg-shark-700","group-has-[textarea:not(:placeholder-shown)]:bg-shark-700","group-has-[textarea:not(:placeholder-shown)]:text-shark-100","opacity-100","px-1","rounded-sm","leading-snug","group-has-[textarea:focus]:text-shark-100","z-10","text-[#5d5f60]","left-4","transition-all"],["type","submit","expand","block","fill","solid","shape","round"],[4,"ngIf"],["name","crescent",4,"ngIf"],["name","crescent"]],template:function(o,s){1&o&&(e.j41(0,"ion-card",0)(1,"form",1),e.bIt("ngSubmit",function(){return s.createPost()}),e.j41(2,"div",2)(3,"h4",3),e.EFF(4,"Compartilhe uma ideia!"),e.k0s(),e.j41(5,"div",4),e.nrm(6,"ion-input",5),e.j41(7,"span",6),e.EFF(8," T\xedtulo "),e.k0s()(),e.j41(9,"div",4),e.nrm(10,"ion-textarea",7),e.j41(11,"span",8),e.EFF(12," Corpo do texto "),e.k0s()()(),e.j41(13,"div")(14,"ion-button",9),e.DNE(15,F,2,0,"span",10)(16,x,1,0,"ion-spinner",11),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",s.postForm),e.R7$(9),e.Y8G("counter",!0),e.R7$(5),e.Y8G("ngIf",!s.isLoading),e.R7$(),e.Y8G("ngIf",s.isLoading))},dependencies:[c.MD,c.bT,d.bv,d.Jm,d.b_,d.$w,d.w2,d.nc,d.Gw,n.X1,n.qT,n.BC,n.cb,n.YS,n.tU,n.j4,n.JD],encapsulation:2}),r})();var v=i(6501);function C(t,r){1&t&&e.nrm(0,"post-card-skeleton")}function P(t,r){1&t&&e.nrm(0,"post-card",7),2&t&&e.Y8G("post",r.$implicit)}function k(t,r){if(1&t&&(e.j41(0,"div"),e.DNE(1,P,1,1,"post-card",6),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.posts)}}function y(t,r){1&t&&(e.j41(0,"div",8),e.EFF(1," Sem posts para mostrar "),e.k0s())}const T=[{path:"",component:(()=>{var t;class r{constructor(o,s){this.postService=o,this.toastService=s,this.posts=[],this.isLoading=!0}ngOnInit(){this.postService.getPosts().subscribe({next:o=>{this.posts=o,this.isLoading=!1},error:o=>{this.toastService.presentToast({message:"Ocorreu um erro ao carregar os posts.",color:"danger"}),this.isLoading=!1}})}}return(t=r).\u0275fac=function(o){return new(o||t)(e.rXU(g.K),e.rXU(m.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-feed"]],standalone:!1,decls:7,vars:3,consts:[[1,"overflow-auto","mt-14"],[1,"block","overflow-auto"],[1,"w-4/5","mx-auto","border-shark-500"],[1,"flex","justify-center","items-stretch","flex-col","min-h-36"],[4,"ngIf"],["class","text-center",4,"ngIf"],["class","basis-full last:mb-2.5",3,"post",4,"ngFor","ngForOf"],[1,"basis-full","last:mb-2.5",3,"post"],[1,"text-center"]],template:function(o,s){1&o&&(e.j41(0,"div",0),e.nrm(1,"create-post-card",1)(2,"hr",2),e.j41(3,"div",3),e.DNE(4,C,1,0,"post-card-skeleton",4)(5,k,2,1,"div",4)(6,y,2,0,"div",5),e.k0s()()),2&o&&(e.R7$(4),e.Y8G("ngIf",s.isLoading),e.R7$(),e.Y8G("ngIf",!s.isLoading),e.R7$(),e.Y8G("ngIf",!s.isLoading&&!s.posts))},dependencies:[c.Sq,c.bT,h.Y,f,v.X],encapsulation:2}),r})()}];let j=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(T),u.iI]}),r})(),w=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[c.MD,n.YN,d.bv,j,n.X1,h.Y,f,v.X]}),r})()}}]);